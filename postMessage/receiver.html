<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>receiver接收端</title>
	<style>
		#messageList {
			border: 1px solid #333;
			border-radius: 4px;
			width: 200px;
			min-height: 150px;
		}
		#postWindow {
			display: none;
		}
	</style>
</head>
<body>
	<h3>消息接收端</h3>
	<ul id="messageList"></ul>
	<iframe src="iframe.html" frameborder="0" id="postWindow"></iframe>
	<script>
		;(function (W) {
			var doc = W.document;
			var msgList = document.querySelector('#messageList');
			var handler = function (msg) {
				var li = document.createElement('li');
				li.innerHTML = msg;
				msgList.appendChild(li);
			}
			W.addEventListener('message', function (evt) {
				console.log(evt.origin)
				if(evt.origin === 'http://192.168.31.145:8080') {
					handler(evt.data);
				}
			}, false);
		})(window)
	</script>
</body>
</html>